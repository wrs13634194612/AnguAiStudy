<div class="calendar-container" [class.dark-mode]="darkMode">
  <div class="calendar-header">
    <button mat-icon-button (click)="changeMonth(-1)">
      <mat-icon>chevron_left</mat-icon>
    </button>

    <h2>{{ currentDate() | date: 'yyyy年MM月' }}</h2>

    <div class="control-buttons">
      <button mat-icon-button (click)="darkMode = !darkMode">
        <mat-icon>{{ darkMode ? 'dark_mode' : 'light_mode' }}</mat-icon>
      </button>
    </div>

    <button mat-icon-button (click)="changeMonth(1)">
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>

  <div class="calendar-grid">
    <div *ngFor="let day of days()"
         class="calendar-day"
         [class.today]="day.isToday"
         [class.holiday]="day.isHoliday"
         [class.weekend]="day.isWeekend"
         (click)="addEvent(day)">
      <div class="solar">{{ day.date | date: 'd' }}</div>
      <div class="weekday">{{ day.date | date: 'EEE' }}</div>
      <div class="events">
        <mat-icon *ngFor="let e of day.events">circle</mat-icon>
      </div>
    </div>
  </div>
</div>
